<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>儿童英语单词记忆助手</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 1000px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            margin: 20px 0;
        }
        
        header {
            background: #4e54c8;
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: white;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .breadcrumb {
            padding: 15px 20px;
            background: #f3f4f6;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            border-bottom: 1px solid #e5e7eb;
            cursor: pointer;
        }
        
        .breadcrumb a {
            color: #4e54c8;
            text-decoration: none;
            cursor: pointer;
            transition: color 0.2s;
            padding: 5px 10px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .breadcrumb a:hover {
            color: #ff7e5f;
            background: #e5e7eb;
        }
        
        .breadcrumb span {
            margin: 0 8px;
            color: #6b7280;
        }
        
        .category-panel {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 0 20px 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }
        
        .category-item {
            padding: 12px 15px;
            border-bottom: 1px solid #e5e7eb;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }
        
        .category-item:hover {
            background: #f9fafb;
        }
        
        .category-item i {
            color: #9ca3af;
        }
        
        .category-name {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .word-count {
            background: #4e54c8;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .table-container {
            width: 100%;
            overflow-x: auto;
            margin-top: 20px;
        }
        
        .words-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 500px; /* 确保表格有最小宽度 */
        }
        
        .words-table th {
            background: #4e54c8;
            color: white;
            padding: 12px 10px;
            text-align: left;
            white-space: nowrap;
        }
        
        .words-table tr {
            transition: background-color 0.2s;
        }
        
        .words-table tr.has-detail {
            background-color: #f0f9ff;
        }
        
        .words-table tr.has-detail:hover {
            background-color: #e0f2fe;
            cursor: pointer;
        }
        
        .words-table tr:nth-child(even):not(.has-detail) {
            background: #f9fafb;
        }
        
        .words-table tr:hover:not(.has-detail) {
            background: #f3f4f6;
        }
        
        .words-table td {
            padding: 12px 10px;
            border-bottom: 1px solid #e5e7eb;
            vertical-align: top;
        }
        
        .word-cell {
            display: flex;
            flex-direction: column;
            gap: 5px;
            min-width: 120px;
        }
        
        .word-type {
            color: #6b7280;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .word-text {
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .meaning-cell {
            min-width: 120px;
        }
        
        
        .pronounce-btn {
            background: #ff7e5f;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: background 0.2s;
            white-space: nowrap;
        }
        
        .pronounce-btn:hover {
            background: #ff6b4a;
        }
        
        .pronounce-btn .text {
            display: inline;
        }
        
        .detail-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            background: #f8fafc;
            border-radius: 8px;
        }
        
        .detail-content.expanded {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .detail-inner {
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .detail-section h4 {
            color: #4e54c8;
            margin-bottom: 5px;
            font-size: 1rem;
        }
        
        .detail-section p {
            color: #374151;
            line-height: 1.5;
        }
        
        .example {
            background: #eef2ff;
            padding: 10px;
            border-radius: 5px;
            margin-top: 5px;
            font-style: italic;
        }
        
        .content-area {
            padding: 20px;
        }
        
        footer {
            text-align: center;
            color: white;
            margin-top: 20px;
            opacity: 0.8;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .word-count {
                font-size: 0.7rem;
                padding: 1px 6px;
            }
            
            .breadcrumb {
                font-size: 1rem;
            }
            
            .words-table th, 
            .words-table td {
                padding: 10px 8px;
            }
            
            .word-text {
                font-size: 1rem;
            }
            
            .pronounce-btn {
                padding: 6px 8px;
            }
            
            
            .words-table {
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                border-radius: 15px;
            }
            
            header {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            .subtitle {
                font-size: 0.9rem;
            }
            
            .breadcrumb {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .content-area {
                padding: 15px;
            }
            
            .words-table th, 
            .words-table td {
                padding: 8px 6px;
            }
            
            .word-cell {
                min-width: 100px;
            }
            
            .meaning-cell {
                min-width: 100px;
            }
            

            
            .word-type {
                font-size: 0.8rem;
            }
            
            .word-text {
                font-size: 0.95rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content-area">
            <div class="breadcrumb" id="breadcrumb">
                <a data-id="root">
                    <i class="fas fa-folder-open"></i> 
                    <span>所有分类</span>
                    <span class="word-count" id="totalWordCount">0</span>
                </a>
            </div>
            
            <div class="category-panel" id="categoryPanel">
                <!-- 分类内容将通过JavaScript动态生成 -->
            </div>
            
            <div class="table-container">
                <table class="words-table" id="wordsTable">
                    <thead>
                        <tr>
                            <th>单词</th>
                            <th>中文意思</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- 单词内容将通过JavaScript动态生成 -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <footer>
        <p>© 2023 让孩子快乐学英语</p>
    </footer>

    <script>
        // 模拟单词数据（实际应用中可以从JSON文件加载）
        const wordData = {
            "categories": [
                {
                    "id": "animals",
                    "name": "动物",
                    "subcategories": [
                        {
                            "id": "farm_animals",
                            "name": "农场动物",
                            "words": [
                                {
                                    "word": "cow",
                                    "type": ["n."],
                                    "meaning": "奶牛",
                                    "detail": {
                                        "definition": "一种大型家畜，通常饲养以获取牛奶和牛肉",
                                        "examples": [
                                            "The cow is grazing in the field. (奶牛正在田野里吃草。)",
                                            "We get milk from cows. (我们从奶牛身上获取牛奶。)"
                                        ],
                                        "synonyms": ["cattle", "bovine"],
                                        "notes": "cow通常指母牛，公牛称为bull"
                                    }
                                },
                                {
                                    "word": "pig",
                                    "type": ["n."],
                                    "meaning": "猪",
                                    "detail": {
                                        "definition": "一种杂食性家畜，通常饲养以获取猪肉",
                                        "examples": [
                                            "The pig rolled in the mud to keep cool. (猪在泥里打滚以保持凉爽。)",
                                            "Pigs are very intelligent animals. (猪是非常聪明的动物。)"
                                        ],
                                        "synonyms": ["swine", "hog"],
                                        "notes": "pig通常指家猪，野猪称为wild boar"
                                    }
                                },
                                {
                                    "word": "sheep",
                                    "type": ["n."],
                                    "meaning": "绵羊"
                                }
                            ]
                        },
                        {
                            "id": "wild_animals",
                            "name": "野生动物",
                            "words": [
                                {
                                    "word": "lion",
                                    "type": ["n."],
                                    "meaning": "狮子",
                                    "detail": {
                                        "definition": "大型猫科动物，被称为'百兽之王'",
                                        "examples": [
                                            "The lion is hunting for food. (狮子正在猎食。)",
                                            "Lions live in groups called prides. (狮子群居生活，群体称为狮群。)"
                                        ],
                                        "synonyms": ["big cat", "king of beasts"],
                                        "notes": "雄狮有鬃毛，雌狮没有"
                                    }
                                },
                                {
                                    "word": "tiger",
                                    "type": ["n."],
                                    "meaning": "老虎",
                                    "detail": {
                                        "definition": "大型猫科动物，有橙黄色毛皮和黑色条纹",
                                        "examples": [
                                            "The tiger is an endangered species. (老虎是濒危物种。)",
                                            "Tigers are excellent swimmers. (老虎是出色的游泳者。)"
                                        ],
                                        "synonyms": ["big cat", "predator"],
                                        "notes": "老虎是最大的猫科动物"
                                    }
                                },
                                {
                                    "word": "elephant",
                                    "type": ["n."],
                                    "meaning": "大象"
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": "food",
                    "name": "食物",
                    "subcategories": [
                        {
                            "id": "fruits",
                            "name": "水果",
                            "words": [
                                {
                                    "word": "apple",
                                    "type": ["n."],
                                    "meaning": "苹果",
                                    "detail": {
                                        "definition": "一种圆形水果，通常为红色、绿色或黄色，口感脆甜",
                                        "examples": [
                                            "I eat an apple every day. (我每天吃一个苹果。)",
                                            "Apple pie is a traditional American dessert. (苹果派是传统的美式甜点。)"
                                        ],
                                        "synonyms": ["pome", "fruit"],
                                        "notes": "苹果有很多品种，如红富士、嘎啦果等"
                                    }
                                },
                                {
                                    "word": "banana",
                                    "type": ["n."],
                                    "meaning": "香蕉",
                                    "detail": {
                                        "definition": "一种长而弯曲的黄色水果，果肉柔软香甜",
                                        "examples": [
                                            "Monkeys like to eat bananas. (猴子喜欢吃香蕉。)",
                                            "Bananas are rich in potassium. (香蕉富含钾元素。)"
                                        ],
                                        "synonyms": ["fruit", "plantain"],
                                        "notes": "香蕉未成熟时是绿色的，成熟后变黄"
                                    }
                                },
                                {
                                    "word": "orange",
                                    "type": ["n."],
                                    "meaning": "橙子"
                                }
                            ]
                        },
                        {
                            "id": "vegetables",
                            "name": "蔬菜",
                            "words": [
                                {
                                    "word": "carrot",
                                    "type": ["n."],
                                    "meaning": "胡萝卜",
                                    "detail": {
                                        "definition": "一种长圆锥形的橙色根茎类蔬菜",
                                        "examples": [
                                            "Rabbits love to eat carrots. (兔子喜欢吃胡萝卜。)",
                                            "Carrots are good for your eyesight. (胡萝卜对视力有益。)"
                                        ],
                                        "synonyms": ["root vegetable", "daucus"],
                                        "notes": "胡萝卜富含β-胡萝卜素，对人体有益"
                                    }
                                },
                                {
                                    "word": "tomato",
                                    "type": ["n."],
                                    "meaning": "西红柿",
                                    "detail": {
                                        "definition": "一种圆形或椭圆形的红色水果，常作为蔬菜食用",
                                        "examples": [
                                            "I use tomatoes to make salad. (我用西红柿做沙拉。)",
                                            "Tomatoes are rich in vitamin C. (西红柿富含维生素C。)"
                                        ],
                                        "synonyms": ["fruit", "berry"],
                                        "notes": "西红柿在植物学上是水果，但常被当作蔬菜烹饪"
                                    }
                                },
                                {
                                    "word": "potato",
                                    "type": ["n."],
                                    "meaning": "土豆"
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": "colors",
                    "name": "颜色",
                    "words": [
                        {
                            "word": "red",
                            "type": ["adj.", "n."],
                            "meaning": "红色",
                            "detail": {
                                "definition": "一种原色，类似于血液的颜色",
                                "examples": [
                                    "She was wearing a red dress. (她穿着一件红色的裙子。)",
                                    "Red light means stop. (红灯表示停止。)"
                                ],
                                "synonyms": ["crimson", "scarlet", "ruby"],
                                "notes": "红色在许多文化中象征爱情、激情和危险"
                            }
                        },
                        {
                            "word": "blue",
                            "type": ["adj.", "n."],
                            "meaning": "蓝色",
                            "detail": {
                                "definition": "一种原色，类似于天空或海洋的颜色",
                                "examples": [
                                    "The sky is blue today. (今天天空是蓝色的。)",
                                    "He has blue eyes. (他有蓝色的眼睛。)"
                                ],
                                "synonyms": ["azure", "cobalt", "sapphire"],
                                "notes": "蓝色常与冷静、悲伤或稳定相关联"
                            }
                        },
                        {
                            "word": "green",
                            "type": ["adj.", "n."],
                            "meaning": "绿色"
                        }
                    ]
                }
            ]
        };

        // DOM元素
        const categoryPanel = document.getElementById('categoryPanel');
        const breadcrumb = document.getElementById('breadcrumb');
        const wordsTableBody = document.querySelector('#wordsTable tbody');
        const totalWordCount = document.getElementById('totalWordCount');

        // 当前状态
        let currentCategory = null;
        let currentSubcategory = null;
        let categoryPanelVisible = false;
        let expandedRow = null;

        // 计算分类的单词总数（包括子分类）
        function calculateWordCount(category) {
            let count = 0;
            
            // 添加当前分类的单词数
            if (category.words) {
                count += category.words.length;
            }
            
            // 添加所有子分类的单词数
            if (category.subcategories) {
                category.subcategories.forEach(subcategory => {
                    if (subcategory.words) {
                        count += subcategory.words.length;
                    }
                });
            }
            
            return count;
        }

        // 计算子分类的单词总数
        function calculateSubcategoryWordCount(subcategory) {
            return subcategory.words ? subcategory.words.length : 0;
        }

        // 计算所有分类的单词总数
        function calculateTotalWordCount() {
            let total = 0;
            wordData.categories.forEach(category => {
                total += calculateWordCount(category);
            });
            return total;
        }

        // 显示分类面板
        function showCategoryPanel() {
            categoryPanel.style.display = 'block';
            categoryPanelVisible = true;
            renderCategories();
        }

        // 隐藏分类面板
        function hideCategoryPanel() {
            categoryPanel.style.display = 'none';
            categoryPanelVisible = false;
        }

        // 渲染分类列表
        function renderCategories() {
            // 清空面板
            categoryPanel.innerHTML = '';
            
            if (currentCategory === null) {
                // 显示一级分类
                wordData.categories.forEach(category => {
                    const item = document.createElement('div');
                    item.className = 'category-item';
                    
                    const wordCount = calculateWordCount(category);
                    
                    item.innerHTML = `
                        <div class="category-name">
                            ${category.name}
                            <span class="word-count">${wordCount}</span>
                        </div>
                        ${category.subcategories ? `<i class="fas fa-chevron-right"></i>` : ''}
                    `;
                    item.addEventListener('click', () => {
                        if (category.subcategories) {
                            // 有二级分类
                            currentCategory = category;
                            renderSubcategories();
                        } else {
                            // 没有二级分类，直接显示单词
                            currentCategory = category;
                            currentSubcategory = null;
                            renderWords();
                            updateBreadcrumb();
                            hideCategoryPanel();
                        }
                    });
                    categoryPanel.appendChild(item);
                });
            } else {
                // 显示返回按钮和二级分类
                const backItem = document.createElement('div');
                backItem.className = 'category-item';
                backItem.innerHTML = `
                    <i class="fas fa-arrow-left"></i> 返回分类列表
                `;
                backItem.addEventListener('click', () => {
                    currentCategory = null;
                    currentSubcategory = null;
                    renderCategories();
                    updateBreadcrumb();
                });
                categoryPanel.appendChild(backItem);
                
                // 显示二级分类
                if (currentCategory.subcategories) {
                    currentCategory.subcategories.forEach(subcategory => {
                        const item = document.createElement('div');
                        item.className = 'category-item';
                        
                        const wordCount = calculateSubcategoryWordCount(subcategory);
                        
                        item.innerHTML = `
                            <div class="category-name">
                                ${subcategory.name}
                                <span class="word-count">${wordCount}</span>
                            </div>
                            <i class="fas fa-chevron-right"></i>
                        `;
                        item.addEventListener('click', () => {
                            currentSubcategory = subcategory;
                            renderWords();
                            updateBreadcrumb();
                            hideCategoryPanel();
                        });
                        categoryPanel.appendChild(item);
                    });
                }
            }
        }

        // 渲染二级分类
        function renderSubcategories() {
            renderCategories();
            updateBreadcrumb();
        }

        // 获取指定分类的所有单词
        function getWordsByCategory(category, subcategory = null) {
            let words = [];
            
            if (subcategory) {
                // 获取指定二级分类的单词
                words = subcategory.words || [];
            } else if (category) {
                // 获取一级分类下的所有单词（包括二级分类）
                if (category.words) {
                    words = words.concat(category.words);
                }
                
                if (category.subcategories) {
                    category.subcategories.forEach(sub => {
                        if (sub.words) {
                            words = words.concat(sub.words);
                        }
                    });
                }
            } else {
                // 获取所有单词
                wordData.categories.forEach(cat => {
                    if (cat.words) {
                        words = words.concat(cat.words);
                    }
                    if (cat.subcategories) {
                        cat.subcategories.forEach(sub => {
                            if (sub.words) {
                                words = words.concat(sub.words);
                            }
                        });
                    }
                });
            }
            
            return words;
        }

        // 渲染单词列表
        function renderWords() {
            // 清空表格
            wordsTableBody.innerHTML = '';
            expandedRow = null;
            
            // 获取当前分类的单词
            const words = getWordsByCategory(currentCategory, currentSubcategory);
            
            // 填充单词表格
            words.forEach(word => {
                const row = document.createElement('tr');
                
                // 如果有详细解释，添加特殊样式
                if (word.detail) {
                    row.classList.add('has-detail');
                }
                
                // 创建详细解释内容
                let detailContent = '';
                if (word.detail) {
                    detailContent = `
                        <td colspan="3" style="padding: 0; border: none;">
                            <div class="detail-content">
                                <div class="detail-inner">
                                    <div class="detail-section">
                                        <h4>定义</h4>
                                        <p>${word.detail.definition}</p>
                                    </div>
                                    ${word.detail.examples ? `
                                    <div class="detail-section">
                                        <h4>例句</h4>
                                        ${word.detail.examples.map(example => `
                                            <p class="example">${example}</p>
                                        `).join('')}
                                    </div>
                                    ` : ''}
                                    ${word.detail.synonyms ? `
                                    <div class="detail-section">
                                        <h4>同义词</h4>
                                        <p>${word.detail.synonyms.join(', ')}</p>
                                    </div>
                                    ` : ''}
                                    ${word.detail.notes ? `
                                    <div class="detail-section">
                                        <h4>备注</h4>
                                        <p>${word.detail.notes}</p>
                                    </div>
                                    ` : ''}
                                </div>
                            </div>
                        </td>
                    `;
                }
                
                // 处理单词类型显示
                const typeHTML = word.type.map(t => 
                    `${t}`
                ).join('');
                
                row.innerHTML = `
                    <td class="word-cell">
                        <div class="word-cell">

							<div class="word-type">						<span style="width:30;height:30">
							<button class="pronounce-btn" data-word="${word.word}">
								<i class="fas fa-volume-up"></i>
							</button>
						</span>${typeHTML}</div>
                            <div class="word-text">${word.word}</div>
                        </div>
                    </td>
                    <td class="meaning-cell">${word.meaning}</td>
                `;
                
                wordsTableBody.appendChild(row);
                
                // 如果有详细解释，添加详细解释行和点击事件
                if (word.detail) {
                    const detailRow = document.createElement('tr');
                    detailRow.className = 'detail-row';
                    detailRow.style.display = 'none';
                    detailRow.innerHTML = detailContent;
                    
                    wordsTableBody.appendChild(detailRow);
                    
                    // 添加点击事件
                    row.addEventListener('click', () => {
                        const isExpanded = detailRow.style.display === 'table-row';
                        
                        if (isExpanded) {
                            // 折叠详细解释
                            detailRow.style.display = 'none';
                            row.classList.remove('expanded');
                            expandedRow = null;
                        } else {
                            // 先关闭其他展开的行
                            if (expandedRow) {
                                expandedRow.style.display = 'none';
                                expandedRow.previousElementSibling.classList.remove('expanded');
                            }
                            
                            // 展开详细解释
                            detailRow.style.display = 'table-row';
                            row.classList.add('expanded');
                            expandedRow = detailRow;
                            
                            // 获取详细解释内容元素并添加展开类
                            const detailContent = detailRow.querySelector('.detail-content');
                            detailContent.classList.add('expanded');
                        }
                    });
                    
                    // 添加详细解释行的点击事件（点击后折叠）
                    detailRow.addEventListener('click', (e) => {
                        if (e.target === detailRow || e.target.closest('.detail-content')) {
                            detailRow.style.display = 'none';
                            row.classList.remove('expanded');
                            expandedRow = null;
                        }
                    });
                }
            });
            
            // 添加发音功能
            document.querySelectorAll('.pronounce-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation(); // 阻止事件冒泡，避免触发行点击事件
                    const word = button.getAttribute('data-word');
                    pronounceWord(word);
                });
            });
        }

        // 更新面包屑导航
        function updateBreadcrumb() {
            breadcrumb.innerHTML = '';
            
            // 根链接 - 所有分类
            const totalCount = calculateTotalWordCount();
            const rootLink = document.createElement('a');
            rootLink.innerHTML = `
                <i class="fas fa-folder-open"></i> 
                <span>所有分类</span>
                <span class="word-count">${totalCount}</span>
            `;
            rootLink.setAttribute('data-id', 'root');
            rootLink.addEventListener('click', () => {
                currentCategory = null;
                currentSubcategory = null;
                renderWords();
                updateBreadcrumb();
                showCategoryPanel();
            });
            breadcrumb.appendChild(rootLink);
            
            if (currentCategory) {
                const separator1 = document.createElement('span');
                separator1.textContent = '/';
                breadcrumb.appendChild(separator1);
                
                const categoryWordCount = calculateWordCount(currentCategory);
                const categoryLink = document.createElement('a');
                categoryLink.innerHTML = `
                    <i class="fas fa-folder"></i> 
                    <span>${currentCategory.name}</span>
                    <span class="word-count">${categoryWordCount}</span>
                `;
                categoryLink.setAttribute('data-id', currentCategory.id);
                categoryLink.addEventListener('click', () => {
                    // 点击一级分类，显示该分类下所有单词（包括二级分类）
                    currentSubcategory = null;
                    renderWords();
                    updateBreadcrumb();
                    showCategoryPanel();
                });
                breadcrumb.appendChild(categoryLink);
                
                if (currentSubcategory) {
                    const separator2 = document.createElement('span');
                    separator2.textContent = '/';
                    breadcrumb.appendChild(separator2);
                    
                    const subcategoryWordCount = calculateSubcategoryWordCount(currentSubcategory);
                    const subcategorySpan = document.createElement('span');
                    subcategorySpan.innerHTML = `
                        <i class="fas fa-folder"></i> 
                        <span>${currentSubcategory.name}</span>
                        <span class="word-count">${subcategoryWordCount}</span>
                    `;
                    subcategorySpan.style.color = '#374151';
                    breadcrumb.appendChild(subcategorySpan);
                }
            }
        }

        // 单词发音功能
        function pronounceWord(word) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'en-US';
                speechSynthesis.speak(utterance);
            } else {
                alert('很抱歉，您的浏览器不支持语音合成功能。');
            }
        }

        // 初始化
        function init() {
            // 更新总单词数
            totalWordCount.textContent = calculateTotalWordCount();
            
            // 初始渲染所有单词
            renderWords();
            
            // 面包屑点击事件
            breadcrumb.addEventListener('click', (e) => {
                if (e.target === breadcrumb) {
                    if (categoryPanelVisible) {
                        hideCategoryPanel();
                    } else {
                        showCategoryPanel();
                    }
                }
            });
            
            // 点击页面其他区域关闭分类面板
            document.addEventListener('click', (e) => {
                if (categoryPanelVisible && 
                    !categoryPanel.contains(e.target) && 
                    !breadcrumb.contains(e.target)) {
                    hideCategoryPanel();
                }
            });
        }

        // 启动应用
        init();
    </script>
</body>
</html>
